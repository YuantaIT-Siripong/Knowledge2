---
title: FCN v1.0 Database Schema - Visual Summary
doc_type: reference
status: Draft
version: 1.0.0
owner: siripong.s@yuanta.co.th
created: 2025-10-16
classification: Internal
tags: [fcn, database-schema, visual, reference]
related:
  - STATUS_REPORT.md
  - er-fcn-v1.0.md
---

# FCN v1.0 Database Schema - Visual Summary

## 1. Database Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FCN v1.0 Database Schema                     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   IMPLEMENTED   â”‚         â”‚   DOCUMENTED    â”‚              â”‚
â”‚  â”‚    (SQLite)     â”‚         â”‚  (PostgreSQL)   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚          â”‚                            â”‚                         â”‚
â”‚          â”‚                            â”‚                         â”‚
â”‚          â–¼                            â–¼                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  parameter_   â”‚          â”‚ Full ER Model:   â”‚              â”‚
â”‚  â”‚  definitions  â”‚          â”‚ â€¢ Product        â”‚              â”‚
â”‚  â”‚  (24 params)  â”‚          â”‚ â€¢ Product_Versionâ”‚              â”‚
â”‚  â”‚      âœ“        â”‚          â”‚ â€¢ Branch         â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â€¢ Trade          â”‚              â”‚
â”‚                             â”‚ â€¢ Observation    â”‚              â”‚
â”‚                             â”‚ â€¢ Cash_Flow      â”‚              â”‚
â”‚                             â”‚ â€¢ etc. (12 total)â”‚              â”‚
â”‚                             â”‚      ğŸ“‹          â”‚              â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend: âœ“ = Implemented & Tested  |  ğŸ“‹ = Documented Only
```

## 2. Implemented Schema (Current State)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    parameter_definitions                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                 â”‚ INTEGER      â”‚ PK                          â”‚
â”‚ name               â”‚ TEXT         â”‚ UNIQUE                      â”‚
â”‚ data_type          â”‚ TEXT         â”‚ string/date/decimal/etc     â”‚
â”‚ required_flag      â”‚ BOOLEAN      â”‚ Is required?                â”‚
â”‚ default_value      â”‚ TEXT         â”‚ JSON-encoded                â”‚
â”‚ enum_domain        â”‚ TEXT         â”‚ Pipe-separated values       â”‚
â”‚ min_value          â”‚ NUMERIC      â”‚ Minimum constraint          â”‚
â”‚ max_value          â”‚ NUMERIC      â”‚ Maximum constraint          â”‚
â”‚ pattern            â”‚ TEXT         â”‚ Regex pattern               â”‚
â”‚ description        â”‚ TEXT         â”‚ Parameter description       â”‚
â”‚ constraints        â”‚ TEXT         â”‚ Additional constraints      â”‚
â”‚ product_type       â”‚ TEXT         â”‚ 'fcn'                       â”‚
â”‚ spec_version       â”‚ TEXT         â”‚ '1.0.0'                     â”‚
â”‚ created_at         â”‚ TIMESTAMP    â”‚ Creation time               â”‚
â”‚ updated_at         â”‚ TIMESTAMP    â”‚ Update time                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Indexes:
  â€¢ idx_parameter_definitions_name (name)
  â€¢ idx_parameter_definitions_product_spec (product_type, spec_version)

Data: 24 parameters, all validated âœ“
```

## 3. Documented Full ER Model (Target State)

### 3.1 Product Catalog Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Product    â”‚
â”‚   (FCN)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:M
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product_Version  â”‚
â”‚  (1.0.0)         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:M
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Branch       â”‚
â”‚ â€¢ fcn-base-mem   â”‚
â”‚ â€¢ fcn-base-nomem â”‚
â”‚ â€¢ fcn-base-mem-  â”‚
â”‚   proploss       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Trade Management Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Trade     â”‚
â”‚              â”‚
â”‚ â€¢ trade_date â”‚
â”‚ â€¢ issue_date â”‚
â”‚ â€¢ maturity   â”‚
â”‚ â€¢ notional   â”‚
â”‚ â€¢ barriers   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:M
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Underlying_Assetâ”‚
â”‚                 â”‚
â”‚ â€¢ symbol        â”‚
â”‚ â€¢ initial_level â”‚
â”‚ â€¢ weight        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Lifecycle Management Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Trade     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:M
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Observation    â”‚â—„â”€â”€â”€â”
â”‚                  â”‚    â”‚
â”‚ â€¢ obs_date       â”‚    â”‚
â”‚ â€¢ obs_index      â”‚    â”‚
â”‚ â€¢ is_processed   â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
       â”‚                â”‚
       â”‚ 1:M            â”‚ M:1
       â–¼                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Underlying_Level   â”‚â”€â”€â”˜
â”‚                    â”‚
â”‚ â€¢ level            â”‚
â”‚ â€¢ performance_pct  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:1
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coupon_Decision  â”‚
â”‚                  â”‚
â”‚ â€¢ barrier_breach â”‚
â”‚ â€¢ coupon_paid    â”‚
â”‚ â€¢ missed_coupons â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:M
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cash_Flow      â”‚
â”‚                  â”‚
â”‚ â€¢ flow_type      â”‚
â”‚ â€¢ flow_date      â”‚
â”‚ â€¢ amount         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Complete Entity Relationship

```
                    Product
                       â”‚
                       â”‚ 1:M
                       â–¼
                 Product_Version â”€â”€â”€â”€â”€â”€â–º Parameter_Definition
                       â”‚
                       â”‚ 1:M
                       â–¼
    Test_Vector â—„â”€â”€   Branch
                       â”‚
                       â”‚ 1:M
                       â–¼
                     Trade
                       â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚          â”‚          â”‚
         1:Mâ”‚       1:Mâ”‚       0:1â”‚
            â–¼          â–¼          â–¼
    Underlying_  Observation  Knock_In_
       Asset        â”‚          Trigger
                    â”‚
              â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
              â”‚           â”‚
           1:Mâ”‚        1:1â”‚
              â–¼           â–¼
       Underlying_   Coupon_
          Level      Decision
                         â”‚
                      1:Mâ”‚
                         â–¼
                    Cash_Flow
```

## 4. Parameter Distribution

### 4.1 By Type

```
Parameters by Data Type (24 total)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

String    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     8 params (33%)
Decimal   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       6 params (25%)
Date      â–ˆâ–ˆâ–ˆ          3 params (13%)
Array     â–ˆâ–ˆâ–ˆâ–ˆ         4 params (17%)
Boolean   â–ˆ            1 param  (4%)
Integer   â–ˆâ–ˆ           2 params (8%)
```

### 4.2 By Requirement Status

```
Parameters by Required Status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Required     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  17 params (71%)
Optional     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             5 params  (21%)
Conditional  â–ˆâ–ˆ                2 params  (8%)
```

### 4.3 By Category

```
Trade Dates            â”‚ â–ˆâ–ˆâ–ˆ         â”‚ 3 params
Underlying & Notional  â”‚ â–ˆâ–ˆâ–ˆâ–ˆ        â”‚ 4 params
Observation & Coupon   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚ 7 params
Barrier & Settlement   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â”‚ 6 params
Other                  â”‚ â–ˆâ–ˆâ–ˆâ–ˆ        â”‚ 4 params
```

## 5. Implementation Status Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Entity                  â”‚ Documented   â”‚ Implementedâ”‚ Status â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ parameter_definitions   â”‚      âœ“       â”‚     âœ“      â”‚   âœ“    â”‚
â”‚ Product                 â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Product_Version         â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Branch                  â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Trade                   â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Underlying_Asset        â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Observation             â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Underlying_Level        â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Coupon_Decision         â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Knock_In_Trigger        â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Cash_Flow               â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â”‚ Test_Vector             â”‚      âœ“       â”‚     âœ—      â”‚   ğŸ“‹   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend: âœ“ = Done  |  âœ— = Not Yet  |  ğŸ“‹ = Documentation Phase
```

## 6. Validation Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FCN Validation Pipeline (CI/CD)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Test Vector Ingest   â”‚
     â”‚   ingest_vectors.py  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Phase 0: Metadata   â”‚
     â”‚   metadata_validator â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Phase 1: Taxonomy   â”‚
     â”‚  taxonomy_validator  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Phase 2: Parameters â”‚
     â”‚  parameter_validator â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Generate Reports   â”‚
     â”‚   Upload Artifacts   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Status: âœ… All Phases Operational
```

## 7. Data Flow

### 7.1 Parameter Definition Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JSON Schema     â”‚
â”‚  fcn-v1.0-       â”‚
â”‚  parameters.     â”‚
â”‚  schema.json     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Python Script
         â”‚ seed_fcn_v1_parameters.py
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite Database   â”‚
â”‚  fcn_parameters.db â”‚
â”‚                    â”‚
â”‚  â€¢ 24 parameters   â”‚
â”‚  â€¢ All validated âœ“ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Used by
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Validators       â”‚
â”‚   â€¢ parameter      â”‚
â”‚   â€¢ taxonomy       â”‚
â”‚   â€¢ metadata       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Trade Lifecycle Flow (Planned)

```
Trade Booking
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Trade       â”‚
â”‚   (created)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Observation    â”‚
â”‚   (scheduled)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Market Levels   â”‚
â”‚  (captured)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Coupon        â”‚
â”‚   Decision      â”‚
â”‚  (evaluated)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cash Flow     â”‚
â”‚  (generated)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8. Branch Taxonomy

```
FCN v1.0 Branches (3 branches defined)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fcn-base-mem                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â€¢ Barrier: down-in                                      â”‚
â”‚ â€¢ Settlement: physical-settlement                       â”‚
â”‚ â€¢ Coupon Memory: memory                                 â”‚
â”‚ â€¢ Step: no-step                                         â”‚
â”‚ â€¢ Recovery: par-recovery                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fcn-base-nomem                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â€¢ Barrier: down-in                                      â”‚
â”‚ â€¢ Settlement: physical-settlement                       â”‚
â”‚ â€¢ Coupon Memory: no-memory                              â”‚
â”‚ â€¢ Step: no-step                                         â”‚
â”‚ â€¢ Recovery: par-recovery                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fcn-base-mem-proploss                                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â€¢ Barrier: down-in                                      â”‚
â”‚ â€¢ Settlement: physical-settlement                       â”‚
â”‚ â€¢ Coupon Memory: memory                                 â”‚
â”‚ â€¢ Step: no-step                                         â”‚
â”‚ â€¢ Recovery: proportional-loss                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9. Version Lifecycle

```
Draft â†’ Proposed â†’ Active â†’ Deprecated â†’ Removed
  â”‚        â”‚         â”‚          â”‚           â”‚
  â”‚        â”‚         â”‚          â”‚           â””â”€â–º No new trades
  â”‚        â”‚         â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Phase-out
  â”‚        â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Production
  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Ready for approval
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Development

Current Status: FCN v1.0 = Proposed (per m0001 seed data)
```

## 10. Key Metrics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Current Implementation                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Entities Implemented:      1 / 12    (8%)         â”‚
â”‚ Parameters Defined:        24 / 24   (100%)       â”‚
â”‚ Test Vectors:              5 documented           â”‚
â”‚ Validators:                7 implemented          â”‚
â”‚ Business Rules:            19 documented          â”‚
â”‚ Test Pass Rate:            100%                   â”‚
â”‚ CI/CD Integration:         âœ“ Configured           â”‚
â”‚ Documentation:             âœ“ Comprehensive        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Quality Metrics                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Parameter Error Rate:      0%      (Target: <2%)  â”‚
â”‚ Data Completeness:         ~60%    (Target: â‰¥80%) â”‚
â”‚ Rule Mapping Coverage:     95%     (Target: 100%) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 11. Next Implementation Steps

```
Priority 1: Product Catalog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Product table         â”‚
â”‚ â˜ Product_Version table â”‚
â”‚ â˜ Branch table          â”‚
â”‚ â˜ Seed FCN v1.0 data    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Priority 2: Trade Management
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Trade table           â”‚
â”‚ â˜ Underlying_Asset      â”‚
â”‚ â˜ Sample trade data     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Priority 3: Lifecycle
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Observation table     â”‚
â”‚ â˜ Coupon_Decision       â”‚
â”‚ â˜ Cash_Flow             â”‚
â”‚ â˜ Knock_In_Trigger      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Priority 4: Testing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Test_Vector table     â”‚
â”‚ â˜ Seed test vectors     â”‚
â”‚ â˜ Enhance validators    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 12. File Locations Quick Reference

```
ğŸ“ Database Files
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ README.md                        # Parameter definitions docs
â”‚   â”œâ”€â”€ USAGE.md                         # Quick start guide
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ m0001_create_parameter_definitions.sql  âœ“
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â””â”€â”€ fcn-v1.0-parameters.schema.json         âœ“
â”‚   â”œâ”€â”€ seeds/
â”‚   â”‚   â”œâ”€â”€ seed_fcn_v1_parameters.py               âœ“
â”‚   â”‚   â””â”€â”€ test_seed.py                            âœ“
â”‚   â””â”€â”€ fcn_parameters.db                           âœ“ (generated)

ğŸ“ FCN Documentation
â”œâ”€â”€ docs/business/ba/products/structured-notes/fcn/
â”‚   â”œâ”€â”€ er-fcn-v1.0.md                   # ER model          âœ“
â”‚   â”œâ”€â”€ specs/fcn-v1.0.md                # Specification     âœ“
â”‚   â”œâ”€â”€ overview.md                      # KPIs & overview   âœ“
â”‚   â”œâ”€â”€ business-rules.md                # BR-001 to BR-019  âœ“
â”‚   â”œâ”€â”€ STATUS_REPORT.md                 # This analysis     âœ“
â”‚   â”œâ”€â”€ SCHEMA_VISUAL_SUMMARY.md         # Visual guide      âœ“
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ m0001-fcn-baseline.sql       # Full schema      ğŸ“‹
â”‚   â””â”€â”€ validators/                      # Python validators âœ“

ğŸ“ Workflows
â””â”€â”€ .github/workflows/
    â””â”€â”€ fcn-validators.yml               # CI/CD pipeline    âœ“

Legend: âœ“ = Exists & Working  |  ğŸ“‹ = Documented Only
```

---

## Conclusion

This visual summary provides an at-a-glance overview of the FCN v1.0 database schema design status. Key takeaways:

**âœ… Strengths**:
- Well-documented comprehensive design
- Working parameter management system
- Strong validation infrastructure
- Clear implementation roadmap

**ğŸ“‹ In Progress**:
- Full ER model implementation
- Trade lifecycle management
- Test vector database storage
- KPI automation

For detailed analysis, see [STATUS_REPORT.md](STATUS_REPORT.md).

---

**Document History**:
- v1.0.0 (2025-10-16): Initial visual summary
