---
product_code: FCN
product_name: Fixed Coupon Note
product_family: structured-notes
status: Proposed
current_version: 1.1.0
owner: siripong.s@yuanta.co.th
created: 2025-10-09
last_updated: 2025-10-16

description: |
  Fixed Coupon Note (FCN) with down-and-in barrier protection and conditional coupon payments.
  Version 1.1.0 adds capital-at-risk settlement with put strike, autocall (knock-out), and issuer governance.
  Baseline v1.0 (Deprecated) covered memory/no-memory variants with unconditional par recovery.

versions:
  - version: 1.0.0
    status: Deprecated
    spec_file: specs/fcn-v1.0.md
    parameter_schema: schemas/fcn-v1.0-parameters.schema.json
    activation_checklist: specs/_activation-checklist-template.md
    promotion_requirements:
      - Parameter table completeness validated
      - Taxonomy codes stable and documented
      - Minimum normative test vector set defined
      - Risk calibration review completed
      - Implementation parity confirmed
      - No unresolved naming conflicts
    release_date: null
    deprecated_date: 2025-10-16

  - version: 1.1.0
    status: Proposed
    spec_file: specs/fcn-v1.1.0.md
    parameter_schema: schemas/fcn-v1.1.0-parameters.schema.json
    activation_checklist: specs/_activation-checklist-v1.1.0.md
    promotion_requirements:
      - All v1.0 promotion requirements met
      - Autocall (knock-out) test vectors validated
      - Issuer whitelist governance process defined and operational
      - BR-020 through BR-026 implemented and tested
      - Capital-at-risk settlement logic (put_strike_pct) validated
      - Payoff precedence order (KO → Coupon → KI → Capital-at-Risk Settlement) validated
      - Barrier monitoring type (discrete/continuous) governance established
      - Backward compatibility with v1.0 confirmed
      - Migration scripts m0002 and m0003 tested and validated
    release_date: null
    deprecated_date: null

branches:
  - branch_id: fcn-base-mem
    description: Memory coupon, par-recovery, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: memory
      step_feature: no-step
      recovery_mode: par-recovery
    normative_vectors:
      - fcn-v1.0-base-mem-baseline
      - fcn-v1.0-base-mem-edge-barrier-touch
      - fcn-v1.0-base-mem-ki-event
  
  - branch_id: fcn-base-nomem
    description: No-memory coupon, par-recovery, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: no-memory
      step_feature: no-step
      recovery_mode: par-recovery
    normative_vectors:
      - fcn-v1.0-base-nomem-baseline

  - branch_id: fcn-base-mem-proploss
    description: Memory coupon, proportional-loss, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: memory
      step_feature: no-step
      recovery_mode: proportional-loss
    normative_vectors: []

  - branch_id: fcn-base-nomem-autocall
    description: No-memory coupon, autocall enabled, par-recovery, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: no-memory
      step_feature: autocall
      recovery_mode: par-recovery
    normative_vectors:
      - fcn-v1.1.0-nomem-autocall-baseline
      - fcn-v1.1.0-nomem-autocall-trigger
      - fcn-v1.1.0-nomem-autocall-no-trigger-edge

  - branch_id: fcn-caprisk-nomem
    description: No-memory coupon, capital-at-risk settlement, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: no-memory
      step_feature: no-step
      recovery_mode: capital-at-risk
    normative_vectors:
      - fcn-v1.1-caprisk-nomem-baseline
      - fcn-v1.1-caprisk-nomem-ki-no-loss
      - fcn-v1.1-caprisk-nomem-ki-loss

  - branch_id: fcn-caprisk-mem
    description: Memory coupon, capital-at-risk settlement, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: memory
      step_feature: no-step
      recovery_mode: capital-at-risk
    normative_vectors:
      - fcn-v1.1-caprisk-mem-baseline
      - fcn-v1.1-caprisk-mem-accrual-release
      - fcn-v1.1-caprisk-mem-ki-loss

  - branch_id: fcn-caprisk-nomem-autocall
    description: No-memory coupon, capital-at-risk settlement, autocall enabled, physical settlement
    taxonomy:
      barrier_type: down-in
      settlement: physical-settlement
      coupon_memory: no-memory
      step_feature: autocall
      recovery_mode: capital-at-risk
    normative_vectors:
      - fcn-v1.1-caprisk-nomem-autocall-preempt
      - fcn-v1.1-autocall-trigger
      - fcn-v1.1-autocall-near-miss
      - fcn-v1.1-autocall-late-trigger

schemas:
  parameters_v1_0: schemas/fcn-v1.0-parameters.schema.json
  parameters_v1_1: schemas/fcn-v1.1.0-parameters.schema.json
  test_vector: schemas/test-vector.schema.json

migrations:
  - migration_id: m0001
    file: migrations/m0001-fcn-baseline.sql
    description: Core product, branches, taxonomy, parameters, trades
    applied: false
    depends_on: []

  - migration_id: m0002
    file: migrations/m0002-fcn-v1_1-autocall-extension.sql
    description: FCN v1.1.0 extensions - autocall (knock-out) barrier and issuer support
    applied: false
    depends_on: [m0001]

  - migration_id: m0003
    file: migrations/m0003-fcn-v1_1-put-strike-extension.sql
    description: FCN v1.1.0 capital-at-risk extensions - put_strike_pct, barrier_monitoring_type, settlement logic
    applied: false
    depends_on: [m0001, m0002]

  - migration_id: m0004
    file: migrations/m0004-fcn-v1_1-capital-at-risk-recovery-mode.sql
    description: Add recovery_mode=capital-at-risk enumeration
    applied: false
    depends_on: [m0001, m0002, m0003]

validators:
  - validator_id: phase-0-metadata
    script: validators/metadata_validator.py
    phase: 0
    description: Front matter and document structure validation
  
  - validator_id: phase-1-taxonomy
    script: validators/taxonomy_validator.py
    phase: 1
    description: Taxonomy tuple conformance validation
  
  - validator_id: phase-2-parameters
    script: validators/parameter_validator.py
    phase: 2
    description: Parameter schema conformance and constraint validation

  - validator_id: phase-4-logic
    script: validators/logic_validator.py
    phase: 4
    description: Business logic validation including capital-at-risk settlement (BR-025) - placeholder pending engine integration

documentation:
  spec_v1_0: specs/fcn-v1.0.md
  spec_v1_1: specs/fcn-v1.1.0.md
  schema_diff_v1_0_to_v1_1: schema-diff-v1.0-to-v1.1.md
  er_model: er-fcn-v1.0.md
  validator_roadmap: validator-roadmap.md
  test_vectors_dir: test-vectors/
  examples_dir: examples/
  lifecycle_dir: lifecycle/

governance:
  promotion_workflow: ../../common/governance.md
  activation_adr: ../../../sa/design-decisions/adr-003-fcn-version-activation.md
  alias_policy: ../../../sa/design-decisions/adr-004-parameter-alias-policy.md

related_documents:
  - ../common/conventions.md
  - ../common/payoff_types.md
  - ../common/governance.md
  - ../common/deprecation-alias-policy.md

change_log:
  - version: 1.0.0
    date: 2025-10-09
    author: siripong.s@yuanta.co.th
    changes: Initial baseline product definition and governance artifacts
  - version: 1.0.0
    date: 2025-10-10
    author: siripong.s@yuanta.co.th
    changes: Added schemas, manifest, migrations, validators for Phase 0-2 implementation
  - version: 1.1.0
    date: 2025-10-16
    author: copilot
    changes: Added v1.1.0 with autocall (knock-out) barrier and issuer support; new branch fcn-base-nomem-autocall; migration m0002; business rules BR-020 through BR-023; schema diff documentation
  - version: 1.1.0
    date: 2025-10-16
    author: copilot
    changes: Enhanced v1.1.0 with capital-at-risk settlement (put_strike_pct, barrier_monitoring_type); deprecated v1.0.0; new branches fcn-caprisk-nomem, fcn-caprisk-mem, fcn-caprisk-nomem-autocall; migration m0003; business rules BR-024 through BR-026; deprecated BR-011; logic validator phase-4; 10 new capital-at-risk test vectors
