{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://example.com/schemas/fcn/v1.0/fcn-v1.0-parameters.schema.json","title":"Fixed Coupon Note (FCN) v1.0 Parameter Schema","description":"Machine-readable parameter contract for FCN v1.0 baseline specification (normative).","type":"object","additionalProperties":false,"required":["trade_date","issue_date","maturity_date","underlying_symbols","initial_levels","notional_amount","currency","observation_dates","coupon_payment_dates","coupon_rate_pct","knock_in_barrier_pct","redemption_barrier_pct","settlement_type","recovery_mode","documentation_version"],"properties":{"trade_date":{"type":"string","format":"date","description":"Date of trade agreement (ISO-8601)."},"issue_date":{"type":"string","format":"date","description":"Settlement / note inception date; must be >= trade_date."},"maturity_date":{"type":"string","format":"date","description":"Contract final maturity; must be > issue_date."},"underlying_symbols":{"type":"array","description":"List of underlying instrument tickers (uppercase).","items":{"type":"string","pattern":"^[A-Z0-9_.-]{1,20}$"},"minItems":1,"uniqueItems":true},"initial_levels":{"type":"array","description":"Initial recorded spot/close per underlying (aligned with underlying_symbols).","items":{"type":"number","exclusiveMinimum":0},"minItems":1},"notional_amount":{"type":"number","exclusiveMinimum":0,"description":"Face amount in settlement currency units."},"currency":{"type":"string","pattern":"^[A-Z]{3}$","description":"Settlement currency (ISO-4217)."},"observation_dates":{"type":"array","description":"Discrete barrier & coupon observation dates (strictly increasing, strictly < maturity_date).","items":{"type":"string","format":"date"},"minItems":1},"coupon_observation_offset_days":{"type":"integer","minimum":0,"default":0,"description":"Business day offset for observation vs nominal schedule (0 = same day)."},"coupon_payment_dates":{"type":"array","description":"Coupon payment dates aligned index-wise with observation_dates.","items":{"type":"string","format":"date"},"minItems":1},"coupon_rate_pct":{"type":"number","exclusiveMinimum":0,"maximum":1,"description":"Period coupon rate expressed as a ratio (display Ã—100%)."},"is_memory_coupon":{"type":"boolean","default":false,"description":"If true, missed coupons accrue for later payout when conditions are met."},"memory_carry_cap_count":{"type":["integer","null"],"minimum":0,"description":"Limit on number of unpaid coupons that can accumulate (null = unlimited). Required only if is_memory_coupon=true."},"knock_in_barrier_pct":{"type":"number","exclusiveMinimum":0,"exclusiveMaximum":1,"description":"Down-in barrier fraction of initial level; breach (<=) triggers KI."},"barrier_monitoring":{"type":"string","enum":["discrete"],"default":"discrete","description":"Monitoring style (v1.0 supports only discrete)."},"knock_in_condition":{"type":"string","enum":["any-underlying-breach"],"description":"Logic for KI event detection."},"redemption_barrier_pct":{"type":"number","exclusiveMinimum":0,"maximum":1,"description":"Barrier for final redemption condition (par in v1.0 regardless)."},"settlement_type":{"type":"string","enum":["physical-settlement"],"description":"Normative settlement type (cash-settlement non-normative)."},"coupon_condition_threshold_pct":{"type":"number","exclusiveMinimum":0,"maximum":1,"default":1.0,"description":"Minimum fraction of initial level each underlying must be above for coupon payout."},"recovery_mode":{"type":"string","enum":["par-recovery"],"default":"par-recovery","description":"Normative recovery branch (proportional-loss excluded in v1.0)."},"day_count_convention":{"type":"string","enum":["ACT/365","ACT/360"],"default":"ACT/365","description":"Accrual basis (if required)."},"business_day_calendar":{"type":"string","default":"TARGET","description":"Business day calendar code."},"fx_reference":{"type":["string","null"],"description":"FX rate source identifier (required if underlying currency differs from settlement currency)."},"documentation_version":{"type":"string","pattern":"^1\.0\.0$","description":"Must match spec_version to anchor traceability."}},"allOf":[{"if":{"properties":{"is_memory_coupon":{"const":true}}},{"then":{"required":["memory_carry_cap_count"]},"else":{"properties":{"memory_carry_cap_count":{"const":null}}}},{"description":"Ensure array cardinality alignment (underlying_symbols vs initial_levels).","properties":{"initial_levels":{"unevaluatedItems":false}}}],"definitions":{},"notes":["Validator must enforce: len(initial_levels) == len(underlying_symbols).","Validator must ensure observation_dates strictly increasing and < maturity_date."]}